<!DOCTYPE html>
<html>
<head>
    <title>Cricket Game</title>
    <style>
        body{
            text-align: center;
        }
        button{
            font-size: large;
        }
        .choice-button{
            height: 100px;
            width: 100px;
            border: none;
            margin: 10px;
            background-color: rgb(164, 212, 130);
            border-radius: 50px;
            cursor: pointer;
        }
        .choice-image{
            height: 75px;  
        }

    </style>
</head>
<body>
    <h1> Bat Ball Stump Game</h1>
    <button  class="choice-button" onclick="
      let comchoice = generateComChoice();
      let result = getresult(`Bat` , comchoice);
      showResult(`Bat`,comchoice,result);
     ">
     <img src="bat.png" alt="Bat Image" class="choice-image"> 
    </button>
   
   <button  class="choice-button" onclick="
      comchoice = generateComChoice();
      result = getresult(`Ball` , comchoice);
      showResult(`Ball`,comchoice,result);
     ">
      <img src="ball.png" alt="Ball Image" class="choice-image"> 
     </button>
   
   <button  class="choice-button" onclick="
      comchoice = generateComChoice();
      result = getresult(`stump` , comchoice);
      showResult(`Stump`,comchoice,result);
     ">
      <img src="stump.png"  alt="stump Image" class="choice-image"> 
     </button>

    
        <h3 id="userMove"></h3>
        <h3 id="comMove"></h3>
        <h3 id="result"></h3>
        <h3 id="score"></h3>

        <button onclick="localStorage.clear()
        resetScore();">Reset</button>


    <script>
        let scoreStr = localStorage.getItem('Score');
        let score;
        resetScore(scoreStr);

        function resetScore(scoreStr) {
           score = scoreStr ? JSON.parse(scoreStr) : {
             win: 0,
             lost: 0,
             tie: 0,
          };

         score.displayScore = function() {
           return `Score:Won:${score.win}, Lost:${score.lost}, Tie: ${score.tie}`;
         };

         showResult();
       }
    
        

     function generateComChoice(){
       let randomnum = Math.random()*3;
        if(randomnum > 0 && randomnum<=1)
        {      
        return 'Bat'; }
        else if(randomnum > 1 && randomnum<=2)
        {
          return 'Ball';
        }
        else
        {
           return 'Stump';
        }
     }
     function getresult(userAns , comAns) {
         if(userAns === 'Bat')
        {
            if(comAns === 'Bat')
            {
                 score.tie++;
                 return `It's a tia`;
            }
             else if(comAns === 'Ball')
            {
                 score.win++;
                 return  `User won`;
            }
             else
            {
                 score.lost++;
                 return  `Computer has won`;
            }

        }else if(userAns === 'Ball')
        {
            if(comAns === 'Bat')
            {
                score.lost++;
                 return `Computer has won`;
            }
            else if(comAns === 'Ball')
            {
                  score.tie++;
                  return `It's a tia`;
            }
            else
            {
                 score.win++;
                 return `User won`;
            }

        }else{

            if(comAns === 'Bat')
            {
                 score.win++;
                 return `User won`;
            }
             else if(comAns === 'Ball')
            { 
                 score.lost++;
                 return `Computer has won`;
            }
            else
            {
                 score.tie++;
                 return `It's a tia`;
            }
        }
      
     }
     function showResult(userAns , comAns, result){
        localStorage.setItem('score',JSON.stringify(score));
        document.querySelector('#userMove').innerText = userMove ?`You have chosen ${userAns}.`: '';

        document.querySelector('#comMove').innerText = comMove  ?`Computer choice is ${comAns}.`: '';

        document.querySelector('#result').innerText = result ? result: '';

        document.querySelector('#score').innerText = `${score.displayScore()}`;
     }
    
    </script>
</body>
</html>
